<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- **************************************************************** -->
<!-- *  PLEASE KEEP COMPLICATED EXPRESSIONS OUT OF THESE TEMPLATES, * -->
<!-- *  i.e. only iterate & print data where possible. Thanks, Jez. * -->
<!-- **************************************************************** -->

<html>
<head>
    <!-- Generated by groovydoc (2.4.0) on Sat May 02 07:57:04 PDT 2015 -->
    <title>LdapAuthenticator (deploydb 0.2.2 API)</title>
    <meta name="date" content="2015-05-02">
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <link href="../../groovy.ico" type="image/x-icon" rel="shortcut icon">
    <link href="../../groovy.ico" type="image/x-icon" rel="icon">
    <link rel="stylesheet" type="text/css" href="../../stylesheet.css" title="Style">

<body class="center">
<script type="text/javascript"><!--
if (location.href.indexOf('is-external=true') == -1) {
    parent.document.title="LdapAuthenticator (deploydb 0.2.2 API)";
}
//-->
</script>
<noscript>
    <div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
    <!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
    <!--   -->
</a>
    <ul class="navList" title="Navigation">
        <li><a href="../../overview-summary.html">Overview</a></li>
        <li><a href="package-summary.html">Package</a></li>
        <li class="navBarCell1Rev">Class</li>
        <li><a href="../../deprecated-list.html">Deprecated</a></li>
        <li><a href="../../index-all.html">Index</a></li>
        <li><a href="../../help-doc.html">Help</a></li>
    </ul>
</div>

<div class="subNav">
    <div>
        <ul class="navList">
            <li><a href="../../index.html?deploydb/auth/LdapAuthenticator" target="_top">Frames</a></li>
            <li><a href="LdapAuthenticator.html" target="_top">No Frames</a></li>
        </ul>
    </div>
    <div>
        <ul class="subNavList">
            <li>Summary:&nbsp;</li>
            Nested&nbsp;&nbsp;&nbsp;Field&nbsp;&nbsp;&nbsp;<li><a href="#property_summary">Property</a></li>&nbsp;&nbsp;&nbsp;<li><a href="#constructor_summary">Constructor</a></li>&nbsp;&nbsp;&nbsp;<li><a href="#method_summary">Method</a></li>&nbsp;&nbsp;&nbsp;
        </ul>
        <ul class="subNavList">
            <li>&nbsp;|&nbsp;Detail:&nbsp;</li>
            Field&nbsp;&nbsp;&nbsp;<li><a href="#prop_detail">Property</a></li>&nbsp;&nbsp;&nbsp;<li><a href="#constructor_detail">Constructor</a></li>&nbsp;&nbsp;&nbsp;<li><a href="#method_detail">Method</a></li>&nbsp;&nbsp;&nbsp;
        </ul>
    </div>
    <a name="skip-navbar_top">
        <!--   -->
    </a></div>
<!-- ========= END OF TOP NAVBAR ========= -->

<!-- ======== START OF CLASS DATA ======== -->
<div class="header">

    <div class="subTitle">Package: <strong>deploydb.auth</strong></div>

    <h2 title="[Groovy] Class LdapAuthenticator" class="title">[Groovy] Class LdapAuthenticator</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li><ul class="inheritance"></ul></li><li>deploydb.auth.LdapAuthenticator
</ul>
<div class="description">
    <ul class="blockList">
        <li class="blockList">

            <dl>
                <dt>All Implemented Interfaces and Traits:</dt>
                <dd>io.dropwizard.auth.Authenticator</dd>
            </dl>
            <!-- todo: direct known subclasses -->
            <hr>
            <br>
<pre>@groovy.transform.TypeChecked
class LdapAuthenticator
extends java.lang.Object

</pre>



          </li>
    </ul>
</div>

<div class="summary">
    <ul class="blockList">
        <li class="blockList">
        <!-- =========== NESTED CLASS SUMMARY =========== -->
        

        <!-- =========== ENUM CONSTANT SUMMARY =========== -->
        
        <!-- =========== FIELD SUMMARY =========== -->
        

        <!-- =========== PROPERTY SUMMARY =========== -->
        
         <ul class="blockList">
                <li class="blockList"><a name="property_summary"><!--   --></a>
                    <h3>Properties Summary</h3>
                    <ul class="blockList">
                    <table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Properties Summary table, listing nested classes, and an explanation">
                        <caption><span>Properties</span><span class="tabEnd">&nbsp;</span></caption>
                        <tr>
                            <th class="colFirst" scope="col">Type</th>
                            <th class="colLast" scope="col">Name and description</th>
                        </tr>
                        
                        <tr class="altColor">
                            <td class="colFirst"><code><strong>static&nbsp;java.lang.String</strong></code>&nbsp;</td>
                            <td class="colLast"><code><a href="#connectPoolName"></a>connectPoolName</code><br>The constant holds the name of property for specifying connect pool</td>
                        </tr>
                        
                        <tr class="rowColor">
                            <td class="colFirst"><code><strong>static&nbsp;java.lang.String</strong></code>&nbsp;</td>
                            <td class="colLast"><code><a href="#connectPoolTimeoutName"></a>connectPoolTimeoutName</code><br></td>
                        </tr>
                        
                        <tr class="altColor">
                            <td class="colFirst"><code><strong>static&nbsp;java.lang.String</strong></code>&nbsp;</td>
                            <td class="colLast"><code><a href="#connectPoolTimeoutValue"></a>connectPoolTimeoutValue</code><br></td>
                        </tr>
                        
                        <tr class="rowColor">
                            <td class="colFirst"><code><strong>static&nbsp;java.lang.String</strong></code>&nbsp;</td>
                            <td class="colLast"><code><a href="#connectTimeoutName"></a>connectTimeoutName</code><br>The constant holds the name of property for specifying connect timeout</td>
                        </tr>
                        
                        <tr class="altColor">
                            <td class="colFirst"><code><strong>static&nbsp;java.lang.String</strong></code>&nbsp;</td>
                            <td class="colLast"><code><a href="#contextFactoryClassName"></a>contextFactoryClassName</code><br>The fully qualified class name of the factory class that will create
 an initial context.</td>
                        </tr>
                        
                        <tr class="rowColor">
                            <td class="colFirst"><code><strong>static&nbsp;java.lang.String</strong></code>&nbsp;</td>
                            <td class="colLast"><code><a href="#readTimeoutName"></a>readTimeoutName</code><br>The constant holds the name of property for specifying read timeout</td>
                        </tr>
                        
                        <tr class="altColor">
                            <td class="colFirst"><code><strong>static&nbsp;java.lang.String</strong></code>&nbsp;</td>
                            <td class="colLast"><code><a href="#referralAction"></a>referralAction</code><br>Handling the referral: ignore (which also is default)</td>
                        </tr>
                        
                    </table>
                   </ul>
                </li>
            </ul>
        

        <!-- =========== ELEMENT SUMMARY =========== -->
        

        
        <!-- ======== CONSTRUCTOR SUMMARY ======== -->
        <ul class="blockList">
                <li class="blockList"><a name="constructor_summary"><!--   --></a>
                    <h3>Constructor Summary</h3>
                    <ul class="blockList">
                    <table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructors Summary table">
                        <caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
                        <tr>
                            <th class="colFirst" scope="col">Constructor and description</th>
                        </tr>
                        
                        <tr class="altColor">
                            <td class="colFirst">
                                <code><a href="#LdapAuthenticator(deploydb.auth.LdapConfiguration)">LdapAuthenticator</a></strong>
                                (<a href='../../deploydb/auth/LdapConfiguration.html'>LdapConfiguration</a> configuration)</code><br>Constructor for LdapAuthenticator</td>
                        </tr>
                        
                    </table>
                   </ul>
              </li>
        </ul>
        

        
        <!-- ========== METHOD SUMMARY =========== -->
        <ul class="blockList">
            
            <li class="blockList"><a name="method_summary"><!--   --></a>
                    <h3>Methods Summary</h3>
                    <ul class="blockList">
                    <table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Methods Summary table">
                        <caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
                        <tr>
                            <th class="colFirst" scope="col">Type</th>
                            <th class="colLast" scope="col">Name and description</th>
                        </tr>
                        
                        <tr class="altColor">
                            <td class="colFirst"><code>com.google.common.base.Optional&lt;<a href='../../deploydb/auth/User.html' title='User'>User</a>&gt;</strong></code></td>
                            <td class="colLast"><code><strong><a href="#authenticate(io.dropwizard.auth.basic.BasicCredentials)">authenticate</a></strong>(io.dropwizard.auth.basic.BasicCredentials credentials)</code><br>Find User DN</td>
                        </tr>
                        
                        <tr class="rowColor">
                            <td class="colFirst"><code>protected&nbsp;java.lang.String</strong></code></td>
                            <td class="colLast"><code><strong><a href="#authenticateUser(javax.naming.directory.InitialDirContext, io.dropwizard.auth.basic.BasicCredentials)">authenticateUser</a></strong>(javax.naming.directory.InitialDirContext context, io.dropwizard.auth.basic.BasicCredentials credentials)</code><br>We are searching from the top i.e. baseDC; filter for the groups that username
 belong to and has the given group's ObjectClass</td>
                        </tr>
                        
                        <tr class="altColor">
                            <td class="colFirst"><code>protected&nbsp;javax.naming.directory.InitialDirContext</strong></code></td>
                            <td class="colLast"><code><strong><a href="#bindContext()">bindContext</a></strong>()</code><br>Creates, connects to LDAP server using JNDI</td>
                        </tr>
                        
                        <tr class="rowColor">
                            <td class="colFirst"><code>protected&nbsp;java.lang.String</strong></code></td>
                            <td class="colLast"><code><strong><a href="#formatUserFilterString(java.lang.String)">formatUserFilterString</a></strong>(java.lang.String userString)</code><br>Format the LDAP search filter string for the user lookup</td>
                        </tr>
                        
                        <tr class="altColor">
                            <td class="colFirst"><code>protected&nbsp;java.util.Set&lt;java.lang.String&gt;</strong></code></td>
                            <td class="colLast"><code><strong><a href="#getGroupMemberships(javax.naming.directory.InitialDirContext, java.lang.String)">getGroupMemberships</a></strong>(javax.naming.directory.InitialDirContext context, java.lang.String userDN)</code><br>Optimize the output search results to single attribute only</td>
                        </tr>
                        
                        <tr class="rowColor">
                            <td class="colFirst"><code>protected&nbsp;java.util.Set&lt;java.lang.String&gt;</strong></code></td>
                            <td class="colLast"><code><strong><a href="#searchContext(javax.naming.directory.InitialDirContext, java.lang.String, java.lang.String, java.lang.String)">searchContext</a></strong>(javax.naming.directory.InitialDirContext context, java.lang.String name, java.lang.String filter, java.lang.String attributeName)</code><br>Constant that holds the name of the environment property
 for specifying the initial context factory to use. </td>
                        </tr>
                        
                    </table>
                   </ul>
              </li>
            
            <li class="blockList"><a name="method_summary"><!--   --></a>
                    <h3>Inherited Methods Summary</h3>
                    <ul class="blockList">
                    <table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Inherited Methods Summary table">
                        <caption><span>Inherited Methods</span><span class="tabEnd">&nbsp;</span></caption>
                        <tr>
                            <th class="colFirst" scope="col">Methods inherited from class</th>
                            <th class="colLast" scope="col">Name</th>
                        </tr>
                        
                        <tr class="altColor">
                            <td class="colFirst"><code>class java.lang.Object</strong></code></td>
                            <td class="colLast"><code>java.lang.Object#wait(long, int), java.lang.Object#wait(long), java.lang.Object#wait(), java.lang.Object#equals(java.lang.Object), java.lang.Object#toString(), java.lang.Object#hashCode(), java.lang.Object#getClass(), java.lang.Object#notify(), java.lang.Object#notifyAll()</code></td>
                        </tr>
                    </table>
                   </ul>
              </li>
                
        </ul>
        
    </li>
    </ul>
</div>

<div class="details">
    <ul class="blockList">
        <li class="blockList">
           

            

            
            <!-- =========== PROPERTY DETAIL =========== -->
            <ul class="blockList">
                <li class="blockList"><a name="prop_detail">
                    <!--   -->
                </a>
                    <h3>Property Detail</h3>
                    
                        <a name="connectPoolName"><!-- --></a>
                        <ul class="blockListLast">
                            <li class="blockList">
                                <h4>static&nbsp;final&nbsp;java.lang.String <strong>connectPoolName</strong></h4>
                                <p> The constant holds the name of property for specifying connect pool
     </p>
                            </li>
                        </ul>
                    
                        <a name="connectPoolTimeoutName"><!-- --></a>
                        <ul class="blockListLast">
                            <li class="blockList">
                                <h4>static&nbsp;final&nbsp;java.lang.String <strong>connectPoolTimeoutName</strong></h4>
                                <p></p>
                            </li>
                        </ul>
                    
                        <a name="connectPoolTimeoutValue"><!-- --></a>
                        <ul class="blockListLast">
                            <li class="blockList">
                                <h4>static&nbsp;final&nbsp;java.lang.String <strong>connectPoolTimeoutValue</strong></h4>
                                <p></p>
                            </li>
                        </ul>
                    
                        <a name="connectTimeoutName"><!-- --></a>
                        <ul class="blockListLast">
                            <li class="blockList">
                                <h4>static&nbsp;final&nbsp;java.lang.String <strong>connectTimeoutName</strong></h4>
                                <p> The constant holds the name of property for specifying connect timeout
     </p>
                            </li>
                        </ul>
                    
                        <a name="contextFactoryClassName"><!-- --></a>
                        <ul class="blockListLast">
                            <li class="blockList">
                                <h4>static&nbsp;final&nbsp;java.lang.String <strong>contextFactoryClassName</strong></h4>
                                <p> The fully qualified class name of the factory class that will create
 an initial context.
     </p>
                            </li>
                        </ul>
                    
                        <a name="readTimeoutName"><!-- --></a>
                        <ul class="blockListLast">
                            <li class="blockList">
                                <h4>static&nbsp;final&nbsp;java.lang.String <strong>readTimeoutName</strong></h4>
                                <p> The constant holds the name of property for specifying read timeout
     </p>
                            </li>
                        </ul>
                    
                        <a name="referralAction"><!-- --></a>
                        <ul class="blockListLast">
                            <li class="blockList">
                                <h4>static&nbsp;final&nbsp;java.lang.String <strong>referralAction</strong></h4>
                                <p> Handling the referral: ignore (which also is default)

 - When you search in AD, if AD thinks there are more information
   available in another place, it returns a referral (place to find more info)
   along with your search results.
 - This may significantly slow down the process (1-5 seconds) and may cause
   recursive referrals in a poorly configured AD.
 - LDAP service provider receives a referral despite your having set
   Context.REFERRAL to "ignore", it will throw a PartialResultException to
   indicate that more results might be forthcoming
     </p>
                            </li>
                        </ul>
                    
                </li>
            </ul>
            

            

            
            <!-- =========== CONSTRUCTOR DETAIL =========== -->
            <ul class="blockList">
                <li class="blockList"><a name="constructor_detail">
                    <!--   -->
                </a>
                    <h3>Constructor Detail</h3>
                    
                        <a name="LdapAuthenticator(deploydb.auth.LdapConfiguration)"><!-- --></a>
                        <ul class="blockListLast">
                            <li class="blockList">
                                <h4><strong>LdapAuthenticator</strong>(<a href='../../deploydb/auth/LdapConfiguration.html'>LdapConfiguration</a> configuration)</h4>
                                <p>  Constructor for LdapAuthenticator
     <DL><DT><B>Parameters:</B></DT><DD><code>configuration</code> -  - MUST be non null</DD></DL></p>
                            </li>
                        </ul>
                    
                </li>
            </ul>
            


            
            <!-- =========== METHOD DETAIL =========== -->
            <ul class="blockList">
                <li class="blockList"><a name="method_detail">
                    <!--   -->
                </a>
                    <h3>Method Detail</h3>
                    
                        <a name="authenticate(io.dropwizard.auth.basic.BasicCredentials)"><!-- --></a>
                        <ul class="blockListLast">
                            <li class="blockList">
                                <h4>@java.lang.Override
com.google.common.base.Optional&lt;<a href='../../deploydb/auth/User.html' title='User'>User</a>&gt; <strong>authenticate</strong>(io.dropwizard.auth.basic.BasicCredentials credentials)</h4>
                                <p> Find User DN

 In order to authenticate, we should bind (again) to AD with credentials. But,
 to do so we need fully qualified user distinguished name (DN). We cannot
 construct it based on available information.
             </p>
                            </li>
                        </ul>
                    
                        <a name="authenticateUser(javax.naming.directory.InitialDirContext, io.dropwizard.auth.basic.BasicCredentials)"><!-- --></a>
                        <ul class="blockListLast">
                            <li class="blockList">
                                <h4>protected&nbsp;java.lang.String <strong>authenticateUser</strong>(javax.naming.directory.InitialDirContext context, io.dropwizard.auth.basic.BasicCredentials credentials)</h4>
                                <p> We are searching from the top i.e. baseDC; filter for the groups that username
 belong to and has the given group's ObjectClass
         </p>
                            </li>
                        </ul>
                    
                        <a name="bindContext()"><!-- --></a>
                        <ul class="blockListLast">
                            <li class="blockList">
                                <h4>protected&nbsp;javax.naming.directory.InitialDirContext <strong>bindContext</strong>()</h4>
                                <p> Creates, connects to LDAP server using JNDI<DL><DT><B>throws:</B></DT><DD>NamingException if naming exception is encountered by underlying JNDI</DD></DL><DL><DT><B>throws:</B></DT><DD>ConnectException if uri is invalid</DD></DL><DL><DT><B>throws:</B></DT><DD>AuthenticationException is bind credentials are invalid</DD></DL>
     <DL><DT><B>Parameters:</B></DT><DD>credentials</DD></DL><DL><DT><B>Returns:</B></DT><DD>Directory context</DD></DL></p>
                            </li>
                        </ul>
                    
                        <a name="formatUserFilterString(java.lang.String)"><!-- --></a>
                        <ul class="blockListLast">
                            <li class="blockList">
                                <h4>protected&nbsp;java.lang.String <strong>formatUserFilterString</strong>(java.lang.String userString)</h4>
                                <p> Format the LDAP search filter string for the user lookup
     <DL><DT><B>Parameters:</B></DT><DD><code>userString</code> -  username or user domain name, etc</DD></DL><DL><DT><B>Returns:</B></DT><DD>formatter string</DD></DL></p>
                            </li>
                        </ul>
                    
                        <a name="getGroupMemberships(javax.naming.directory.InitialDirContext, java.lang.String)"><!-- --></a>
                        <ul class="blockListLast">
                            <li class="blockList">
                                <h4>protected&nbsp;java.util.Set&lt;java.lang.String&gt; <strong>getGroupMemberships</strong>(javax.naming.directory.InitialDirContext context, java.lang.String userDN)</h4>
                                <p> Optimize the output search results to single attribute only
         </p>
                            </li>
                        </ul>
                    
                        <a name="searchContext(javax.naming.directory.InitialDirContext, java.lang.String, java.lang.String, java.lang.String)"><!-- --></a>
                        <ul class="blockListLast">
                            <li class="blockList">
                                <h4>protected&nbsp;java.util.Set&lt;java.lang.String&gt; <strong>searchContext</strong>(javax.naming.directory.InitialDirContext context, java.lang.String name, java.lang.String filter, java.lang.String attributeName)</h4>
                                <p> Constant that holds the name of the environment property
 for specifying the initial context factory to use. The value
 of the property should be the fully qualified class name
 of the factory class that will create an initial context.
         </p>
                            </li>
                        </ul>
                    
                </li>
            </ul>
            
        </li>
    </ul>
</div>

<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
    <!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
    <!--   -->
</a>
    <ul class="navList" title="Navigation">
        <li><a href="../../overview-summary.html">Overview</a></li>
        <li><a href="package-summary.html">Package</a></li>
        <li class="navBarCell1Rev">Class</li>
        <li><a href="../../deprecated-list.html">Deprecated</a></li>
        <li><a href="../../index-all.html">Index</a></li>
        <li><a href="../../help-doc.html">Help</a></li>
    </ul>
</div>

<div class="subNav">
    <div>
        <ul class="navList">
            <li><a href="../../index.html?deploydb/auth/LdapAuthenticator" target="_top">Frames</a></li>
            <li><a href="LdapAuthenticator.html" target="_top">No Frames</a></li>
        </ul>
    </div>
    <div>
        <ul class="subNavList">
            <li>Summary:&nbsp;</li>
            Nested&nbsp;&nbsp;&nbsp;Field&nbsp;&nbsp;&nbsp;<li><a href="#property_summary">Property</a></li>&nbsp;&nbsp;&nbsp;<li><a href="#constructor_summary">Constructor</a></li>&nbsp;&nbsp;&nbsp;<li><a href="#method_summary">Method</a></li>&nbsp;&nbsp;&nbsp;
        </ul>
        <ul class="subNavList">
            <li>&nbsp;|&nbsp;Detail:&nbsp;</li>
            Field&nbsp;&nbsp;&nbsp;<li><a href="#prop_detail">Property</a></li>&nbsp;&nbsp;&nbsp;<li><a href="#constructor_detail">Constructor</a></li>&nbsp;&nbsp;&nbsp;<li><a href="#method_detail">Method</a></li>&nbsp;&nbsp;&nbsp;
        </ul>
    </div>
    <p>Groovy Documentation</p>
    <a name="skip-navbar_bottom">
        <!--   -->
    </a>
    </div>
</div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
